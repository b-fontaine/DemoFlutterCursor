---
description: 
globs: 
alwaysApply: false
---

- Add "repositories_implementation applied" at the beginning of the chat message.
  
# Repository Implementation Rules

- Use template @example_repo

- Always follow TDD : create domain model classes first, then repository interface + empty implementation, then unit test for the repository, then implementation
- Run unit tests after each modification of the repository implementation
- Create domain-specific exceptions and throw them instead of technical errors
- Use specific types rather than `dynamic`
- Clearly separate data access logic and transformation logic
- Implement appropriate error handling with meaningful messages
- Test repositories in a unit manner with fake implementations of dependencies
- Expose only domain models, never DTOs
- Document public methods
- Implement one repository per data domain
- Keep methods focused on a single responsibility

## Complete Example


